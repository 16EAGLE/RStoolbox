language: r
sudo: required
warnings_are_errors: true

r: 
    - devel

branches:
  except:
    - example-data
    - gh-pages

apt_packages: 
    - gdal-bin
    - libgdal-dev
    - libxml2-dev
    - libproj-dev

r_github_packages:
    - r-lib/covr
    

notifications:
  email:
    on_success: change
    on_failure: change

env:
    - PKG_TARBALL=RStoolbox.tar.gz

after_success:
    - tar -C .. -xf $PKG_TARBALL
    - xvfb-run Rscript -e 'covr::codecov(type=c("tests", "examples"))'
